<!DOCTYPE html>
<html>
<meta charset="utf-8">

<link rel="stylesheet" href="../labs-theme/labs-style.css" />

<script src="script/paperjs-v0.9.9/dist/paper-full.min.js"></script>

<style>

body {
  background: #3e3e3e;
}

#container {
  text-align: center;
}

canvas img {
  display: block;
  margin: 0 auto;
  width: 480px;
  height: 320px;
}

#papercanvas {
  width: 100%;
  height: 600px;
  margin-top: 20px;
}

</style>

<body>

<h1 class="labs-title">Experiment: Get average color from image<span>Usinge paper.js and canvas. Image from <a href="http://instagram.com/loveatwork">@loveatwork on Instagram</a></span></h1>

<div id="container">

<canvas id="papercanvas">
<img src="instagram.jpg" id="instagram" />
</canvas>

</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://www.loveatwork.se/wp-content/themes/LOVEATWORK/js/libs/jquery-1.7.1.min.js"><\/script>')</script>


<script type="text/paperscript" canvas="papercanvas">

  var raster = new Raster("instagram");
  raster.position = view.center;

  function onMouseMove(event) {
    $("body").css("background-color", raster.getAverageColor(event.point).toCSS());
  }

    

</script>


</body>
<html>